<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Å–∏–≤–∞ items</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug { background: #f0f0f0; padding: 15px; margin: 10px; border-radius: 5px; }
        .item { border: 1px solid #ccc; margin: 5px; padding: 10px; background: white; }
    </style>
</head>
<body>
    <h1>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Å–∏–≤–∞ items</h1>
    
    <div class="debug" id="debug">
        <strong>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br>
        <span id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
    </div>
    
    <div id="items-list"></div>

    <script src="app.min.js"></script>
    <script>
        const debug = document.getElementById('debug');
        const status = document.getElementById('status');
        const itemsList = document.getElementById('items-list');
        
        function log(message) {
            console.log(message);
            status.innerHTML += message + '<br>';
        }
        
        log('üöÄ –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞—Å—Å–∏–≤ items
        if (typeof items !== 'undefined') {
            log('‚úÖ –ú–∞—Å—Å–∏–≤ items –Ω–∞–π–¥–µ–Ω');
            log('üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤: ' + items.length);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
            if (Array.isArray(items)) {
                log('‚úÖ items —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º');
            } else {
                log('‚ùå items –ù–ï —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º');
                log('–¢–∏–ø items: ' + typeof items);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 3 —Ç–æ–≤–∞—Ä–∞
            items.slice(0, 3).forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'item';
                div.innerHTML = `
                    <strong>–¢–æ–≤–∞—Ä ${index + 1}:</strong><br>
                    –ù–∞–∑–≤–∞–Ω–∏–µ: ${item.title}<br>
                    –¶–µ–Ω–∞: ${item.price}<br>
                    –°–µ–∫—Ü–∏—è: ${item.section}<br>
                    –°—Ç–∞—Ç—É—Å: ${item.status}<br>
                    –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ${item.images ? item.images.length : 0}
                `;
                itemsList.appendChild(div);
                
                log(`üì¶ ${index + 1}. ${item.title} (${item.section})`);
            });
            
            // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Å–µ–∫—Ü–∏—è–º
            const sections = {};
            items.forEach(item => {
                const section = item.section || 'home';
                sections[section] = (sections[section] || 0) + 1;
            });
            
            log('üìä –ü–æ —Å–µ–∫—Ü–∏—è–º: ' + JSON.stringify(sections));
            
        } else {
            log('‚ùå –ú–∞—Å—Å–∏–≤ items –Ω–µ –Ω–∞–π–¥–µ–Ω');
            log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: ' + Object.keys(window).filter(k => k.startsWith('item')).join(', '));
        }
    </script>
</body>
</html>
